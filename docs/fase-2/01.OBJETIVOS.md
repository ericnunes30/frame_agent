# Fase 2: Implementação dos Próximos Níveis

## Objetivos da Fase 2

Com base no plano inicial, os objetivos da Fase 2 são:

### ✅ **Próximo Nível (Fase 2):**
- Suporte a tools/funções
- Memória de contexto (curto prazo)
- Configuração dinâmica (modelo, temperatura, etc.)
- Validação de saída via schema (BAML)
- Modo streaming (se suportado)

## Estrutura da Documentação da Fase 2

```
docs/fase-2/
├── 01.OBJETIVOS.md              # Objetivos e escopo da fase
├── 02.ARQUITETURA.md            # Arquitetura aprimorada para tools
├── 03.TOOLS.md                  # Design e implementação de tools
├── 04.MEMORIA_CONTEXTO.md       # Gerenciamento de memória de curto prazo
├── 05.CONFIG_DINAMICA.md        # Configuração dinâmica de parâmetros
├── 06.VALIDACAO_SCHEMA.md       # Validação de saídas com schemas BAML
├── 07.STREAMING.md              # Implementação de modo streaming
├── 08.TESTES.md                 # Plano de testes para a fase
└── 09.ROADMAP.md                # Próximos passos e roadmap
```

## Tópicos a Serem Desenvolvidos

### 1. Suporte a Tools/Funções
- Interface padrão para tools: `{name, description, execute}`
- Mecanismo de registro de tools no agente
- Integração com BAML para function calling
- Tratamento de tool_calls no ciclo de execução
- Reinserção de resultados no contexto

### 2. Memória de Contexto (Curto Prazo)
- Gerenciamento de janela de contexto
- Estratégias de truncamento/seleção de mensagens
- Persistência temporária de informações relevantes
- Limpeza automática de contexto antigo

### 3. Configuração Dinâmica
- Parâmetros configuráveis: modelo, temperatura, top_p, etc.
- Override de configurações por chamada
- Validação de parâmetros
- Perfil de configuração por tipo de agente

### 4. Validação de Saída via Schema (BAML)
- Definição de schemas BAML para diferentes tipos de resposta
- Integração com classes BAML para tipagem forte
- Tratamento de erros de validação
- Fallback para parsing parcial quando necessário

### 5. Modo Streaming
- Implementação de streaming para respostas longas
- Callbacks para processamento de chunks
- Tratamento de eventos de streaming
- Interface consistente entre streaming e não-streaming

## Próximos Passos Imediatos

1. Criar documentação detalhada para cada componente
2. Projetar interface para tools e registro
3. Implementar mecanismo básico de tools
4. Desenvolver sistema de memória de contexto
5. Adicionar suporte a configuração dinâmica
6. Integrar validação de schemas BAML
7. Implementar modo streaming (se suportado)
8. Criar testes abrangentes para cada funcionalidade

## Critérios de Sucesso

- ✅ Implementação completa de tools com registro e execução
- ✅ Gerenciamento eficiente de memória de contexto
- ✅ Configuração dinâmica funcional
- ✅ Validação de saídas via schemas BAML
- ✅ Suporte a streaming (se disponível)
- ✅ Documentação completa de todos os componentes
- ✅ Testes unitários e de integração para todas as features
- ✅ Exemplos práticos de uso de cada funcionalidade